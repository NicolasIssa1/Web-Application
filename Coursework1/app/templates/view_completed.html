{% extends "base.html" %}
{% block content %}
  <h1>Completed Assessments</h1>
  <div class="assessment-list">
    {% if assessments %}
      {% for assessment in assessments %}
        <div class="assessment-item">
          <h3>{{ assessment.title }}</h3>
          <p><strong>Module Code:</strong> {{ assessment.module_code }}</p>
          <p><strong>Deadline:</strong> {{ assessment.deadline_date.strftime('%d-%m-%Y') }}</p>
          <p><strong>Description:</strong> {{ assessment.description }}</p>
          <p><strong>Status:</strong> Completed</p>
          <a href="{{ url_for('edit_assessment', assessment_id=assessment.id) }}" class="btn btn-secondary">Edit</a>
          <form action="{{ url_for('delete_assessment', assessment_id=assessment.id) }}" method="post" style="display:inline;">
            <button type="submit" class="btn btn-danger">Delete</button>
          </form>
        </div>
      {% endfor %}
    {% else %}
      <div class="alert alert-info">
        <p>All assessments are currently incomplete.</p>
        <a href="{{ url_for('view_uncompleted') }}" class="btn btn-primary">View Uncompleted Assessments</a>
      </div>
    {% endif %}
  </div>
{% endblock %}
